<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/arbre.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Family Tree Example</title>
  </head>
  <body>
    <div
      class="fixed bottom-0 left-0 z-20 pb-5 pl-5 flex flex-row items-center space-x-4"
    >
      <button
        id="zoom-in"
        class="rounded-full drop-shadow bg-white p-3 h-10 whitespace-nowrap flex flex-row items-center space-x-2"
      >
        <img
          class="w-4 h-4"
          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAc0lEQVR4nO2UMQqAMAxF3/Gsg3j/wULVQS8Rl05FpGATpeTBX/MgCR+cnzMDJ3AAk6V4ByRnsxRLERerIb5qK6SbVY9AvBn8NhEIT+KkIK1quPSVOACLgnQBBhrQz1fX4mIzxG9sRSzKwYwArDlNGslBiwtYs6fhOILl9QAAAABJRU5ErkJggg=="
        />
        <span> Zoom in </span>
      </button>
      <button
        id="zoom-out"
        class="rounded-full drop-shadow bg-white p-3 h-10 whitespace-nowrap flex flex-row items-center space-x-2"
      >
        <img
          class="w-5 h-5"
          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVR4nGNgGAWjYBSMApLBUQYGhv8U4sP4LDhMBQsOke6vUTAKRsEIBwCsiiLumMWnMQAAAABJRU5ErkJggg=="
        />
        <span> Zoom out </span>
      </button>
    </div>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      let zoom = 1;

      const setZoom = (newZoom) => {
        if (newZoom > 0.05) zoom = newZoom;
      };
      const updateDrawingScale = () => {
        document.getElementById("drawing").style.transform = `scale(${zoom})`;
      };

      document.querySelector("#zoom-in")?.addEventListener("click", () => {
        setZoom(zoom + 0.1);
        updateDrawingScale();
      });

      document.querySelector("#zoom-out")?.addEventListener("click", () => {
        setZoom(zoom - 0.1);
        updateDrawingScale();
      });

      document.addEventListener("mousewheel", (event) => {
        if (event.deltaY > 0) setZoom(zoom - 0.1);
        else if (event.deltaY < 0) setZoom(zoom + 0.1);
        updateDrawingScale();
      });
    </script>
  </body>
</html>
